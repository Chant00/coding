
# ç»™ä½  k æšç›¸åŒçš„é¸¡è›‹ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ä¸€æ ‹ä»ç¬¬ 1 å±‚åˆ°ç¬¬ n å±‚å…±æœ‰ n å±‚æ¥¼çš„å»ºç­‘ã€‚
# 
#  å·²çŸ¥å­˜åœ¨æ¥¼å±‚ f ï¼Œæ»¡è¶³ 0 <= f <= n ï¼Œä»»ä½•ä» é«˜äº f çš„æ¥¼å±‚è½ä¸‹çš„é¸¡è›‹éƒ½ä¼šç¢ï¼Œä» f æ¥¼å±‚æˆ–æ¯”å®ƒä½çš„æ¥¼å±‚è½ä¸‹çš„é¸¡è›‹éƒ½ä¸ä¼šç ´ã€‚ 
# 
#  æ¯æ¬¡æ“ä½œï¼Œä½ å¯ä»¥å–ä¸€æšæ²¡æœ‰ç¢çš„é¸¡è›‹å¹¶æŠŠå®ƒä»ä»»ä¸€æ¥¼å±‚ x æ‰”ä¸‹ï¼ˆæ»¡è¶³ 1 <= x <= nï¼‰ã€‚å¦‚æœé¸¡è›‹ç¢äº†ï¼Œä½ å°±ä¸èƒ½å†æ¬¡ä½¿ç”¨å®ƒã€‚å¦‚æœæŸæšé¸¡è›‹æ‰”ä¸‹åæ²¡æœ‰æ‘”ç¢
# ï¼Œåˆ™å¯ä»¥åœ¨ä¹‹åçš„æ“ä½œä¸­ é‡å¤ä½¿ç”¨ è¿™æšé¸¡è›‹ã€‚ 
# 
#  è¯·ä½ è®¡ç®—å¹¶è¿”å›è¦ç¡®å®š f ç¡®åˆ‡çš„å€¼ çš„ æœ€å°æ“ä½œæ¬¡æ•° æ˜¯å¤šå°‘ï¼Ÿ 
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# è¾“å…¥ï¼šk = 1, n = 2
# è¾“å‡ºï¼š2
# è§£é‡Šï¼š
# é¸¡è›‹ä» 1 æ¥¼æ‰è½ã€‚å¦‚æœå®ƒç¢äº†ï¼Œè‚¯å®šèƒ½å¾—å‡º f = 0 ã€‚ 
# å¦åˆ™ï¼Œé¸¡è›‹ä» 2 æ¥¼æ‰è½ã€‚å¦‚æœå®ƒç¢äº†ï¼Œè‚¯å®šèƒ½å¾—å‡º f = 1 ã€‚ 
# å¦‚æœå®ƒæ²¡ç¢ï¼Œé‚£ä¹ˆè‚¯å®šèƒ½å¾—å‡º f = 2 ã€‚ 
# å› æ­¤ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦ç§»åŠ¨ 2 æ¬¡ä»¥ç¡®å®š f æ˜¯å¤šå°‘ã€‚ 
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼šk = 2, n = 6
# è¾“å‡ºï¼š3
#  
# 
#  ç¤ºä¾‹ 3ï¼š 
# 
#  
# è¾“å…¥ï¼šk = 3, n = 14
# è¾“å‡ºï¼š4
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= k <= 100 
#  1 <= n <= 10â´ 
#  
# 
#  Related Topics æ•°å­¦ äºŒåˆ†æŸ¥æ‰¾ åŠ¨æ€è§„åˆ’ ğŸ‘ 1004 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def superEggDrop(self, k: int, n: int) -> int:
        """ææ°¸ä¹è€å¸ˆè®²è§£å†™æ³•ï¼Œé€»è¾‘æ²¡é—®é¢˜ï¼Œä½†æ˜¯superEggDrop(4, 5000))ä¼šè¶…æ—¶
        Mi(n,k) = max(M(i,k-1), M(n-i,k)) + 1
        M(n,k) = min(M1,M2,...Mn)
        """
        # if n >= 5000:
        #     return 5000
        #  dp[i][j]è¡¨ç¤ºå…±iå±‚æ¥¼jä¸ªé¸¡è›‹æ—¶æœ€å°‘è¦è¯•å‡ æ¬¡ä¿è¯èƒ½æ‰¾åˆ°ä¸´ç•Œç‚¹
        dp = [[0] * (k + 1) for _ in range(n + 1)]
        for i in range(1, n + 1):
            # é¸¡è›‹æ•°é‡ä¸º1æ—¶ï¼Œåªèƒ½ä¸€å±‚å±‚ä»ä½åˆ°é«˜å»è¯•ï¼Œæ‰€ä»¥å…±iæ¬¡
            dp[i][1] = i
            for j in range(2, k + 1):
                dp[i][j] = n  # æœ€å¤§ä¹Ÿå°±næ¬¡
                for h in range(1, i + 1):
                    Mh = max(dp[h - 1][j - 1], dp[i - h][j]) + 1
                    dp[i][j] = min(dp[i][j], Mh)
                if dp[i][k] >= n:
                    dp[i][k] = i
                    break
        # return dp[i][j]
        return dp[n][k]

    def superEggDrop2(self, k: int, n: int) -> int:
        """å®˜æ–¹é¢˜è§£æ–¹æ³•3ï¼šæ•°å­¦æ³•"""
        if n == 1:
            return 1
        f = [[0] * (k + 1) for _ in range(n + 1)]
        for i in range(1, k + 1):
            f[1][i] = 1
        ans = -1
        for i in range(2, n + 1):
            for j in range(1, k + 1):
                f[i][j] = 1 + f[i - 1][j - 1] + f[i - 1][j]
            if f[i][k] >= n:
                ans = i
                break
        return ans


print(Solution().superEggDrop(2, 6))  # 3
print(Solution().superEggDrop(1, 2))  # 2
print(Solution().superEggDrop(3, 14))  # 4
print(Solution().superEggDrop(2, 3))  # 2
print(Solution().superEggDrop(4, 5000))  # 19
print(Solution().superEggDrop2(4, 5000))  # 19
# leetcode submit region end(Prohibit modification and deletion)
