# ç»™å®šä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„çŸ©é˜µï¼Œæ‰¾å‡ºæ¯ä¸ªå…ƒç´ åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»ã€‚ 
# 
#  ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º 1 ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# è¾“å…¥ï¼š
# [[0,0,0],
#  [0,1,0],
#  [0,0,0]]
# 
# è¾“å‡ºï¼š
# [[0,0,0],
# Â [0,1,0],
# Â [0,0,0]]
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼š
# [[0,0,0],
#  [0,1,0],
#  [1,1,1]]
# 
# è¾“å‡ºï¼š
# [[0,0,0],
#  [0,1,0],
#  [1,2,1]]
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  ç»™å®šçŸ©é˜µçš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡ 10000ã€‚ 
#  ç»™å®šçŸ©é˜µä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯ 0ã€‚ 
#  çŸ©é˜µä¸­çš„å…ƒç´ åªåœ¨å››ä¸ªæ–¹å‘ä¸Šç›¸é‚»: ä¸Šã€ä¸‹ã€å·¦ã€å³ã€‚ 
#  
#  Related Topics æ·±åº¦ä¼˜å…ˆæœç´¢ å¹¿åº¦ä¼˜å…ˆæœç´¢ 
#  ðŸ‘ 412 ðŸ‘Ž 0


# leetcode submit region begin(Prohibit modification and deletion)
from typing import List


class Solution:
    def updateMatrix(self, matrix: List[List[int]]) -> List[List[int]]:
        """ç›¸å½“äºŽæ˜¯ [821]å­—ç¬¦çš„æœ€çŸ­è·ç¦» çš„äºŒç»´ç‰ˆæœ¬
        ä¸€èˆ¬æ¥è¯´ï¼Œå› ä¸ºè¿™é“é¢˜æ¶‰åŠåˆ°å››ä¸ªæ–¹å‘ä¸Šçš„æœ€è¿‘æœç´¢ï¼Œæ‰€ä»¥å¾ˆå¤šäººçš„ç¬¬ä¸€ååº”å¯èƒ½ä¼šæ˜¯å¹¿åº¦ ä¼˜å…ˆæœç´¢ã€‚
        ä½†æ˜¯å¯¹äºŽä¸€ä¸ªå¤§å° O(mn) çš„äºŒç»´æ•°ç»„ï¼Œå¯¹æ¯ä¸ªä½ç½®è¿›è¡Œå››å‘æœç´¢ï¼Œæœ€åæƒ…å†µçš„æ—¶é—´å¤ æ‚åº¦ï¼ˆå³å…¨æ˜¯ 1ï¼‰ä¼šè¾¾åˆ°ææ€–çš„ O(m^2*n^2 )ã€‚
        ä¸€ç§åŠžæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ª dp æ•°ç»„åš memoizationï¼Œä½¿å¾—å¹¿ åº¦ä¼˜å…ˆæœç´¢ä¸ä¼šé‡å¤éåŽ†ç›¸åŒä½ç½®ï¼›å¦ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•æ˜¯ï¼Œ
        æˆ‘ä»¬ä»Žå·¦ä¸Šåˆ°å³ä¸‹è¿›è¡Œä¸€æ¬¡åŠ¨æ€æœ ç´¢ï¼Œå†ä»Žå³ä¸‹åˆ°å·¦ä¸Šè¿›è¡Œä¸€æ¬¡åŠ¨æ€æœç´¢ã€‚ä¸¤æ¬¡åŠ¨æ€æœç´¢å³å¯å®Œæˆå››ä¸ªæ–¹å‘ä¸Šçš„æŸ¥æ‰¾ã€‚"""
        m, n = len(matrix), len(matrix[0])
        dp = [[float('inf')] * n for _ in range(m)]

        for i in range(m):
            for j in range(n):
                if matrix[i][j] == 0:
                    dp[i][j] = 0
                else:
                    if i > 0:
                        dp[i][j] = min(dp[i][j], dp[i - 1][j] + 1)
                    if j > 0:
                        dp[i][j] = min(dp[i][j], dp[i][j - 1] + 1)

        for i in range(m - 1, -1, -1):
            for j in range(n - 1, -1, -1):
                if matrix[i][j] != 0:
                    if i < m - 1:
                        dp[i][j] = min(dp[i][j], dp[i + 1][j] + 1)
                    if j < n - 1:
                        dp[i][j] = min(dp[i][j], dp[i][j + 1] + 1)
        return dp
# leetcode submit region end(Prohibit modification and deletion)
